{"version":3,"sources":["components/Users/Users.module.css","components/common/Paginator/Paginator.module.css","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx"],"names":["module","exports","usersContainer","userItom","userInfo","btnElement","pagination","paginationActive","buttonPortion","Paginator","_ref","currentPage","changePageNumber","totalItomsCount","pageSize","_ref$portionSize","portionSize","pageCount","Math","ceil","pages","i","push","portionCount","_useState","useState","_useState2","Object","slicedToArray","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","react_default","a","createElement","className","style","onClick","filter","p","map","cn","defineProperty","key","User","user","expectationFollowedUsersId","unFollow","follow","createBtnFollowed","followed","text","disabled","some","usersId","id","react_router_dom","to","src","photos","small","notPhoto","alt","name","status","followedItom","Users","totalUsersCount","props","objectWithoutProperties","common_Paginator_Paginator","users","u","Users_User","getUsers","state","usersPage","getPageSize","gettoTalUsersCount","getCurrentPage","getIsFetching","isFetching","getExpectationFollowedUsersId","UsersContainer","pageNumber","_this","getUsersTK","this","Fragment","Preloader","components_Users_Users","unfollowSuccess","followSuccess","setExpectationFollowed","React","Component","connect"],"mappings":"6EACAA,EAAAC,QAAA,CAAkBC,eAAA,8BAAAC,SAAA,wBAAAC,SAAA,wBAAAC,WAAA,gDCAlBL,EAAAC,QAAA,CAAkBK,WAAA,8BAAAC,iBAAA,oCAAAC,cAAA,4NC6BHC,EAzBG,SAAAC,GAId,IAJiG,IAAjFC,EAAiFD,EAAjFC,YAAaC,EAAoEF,EAApEE,iBAAkBC,EAAkDH,EAAlDG,gBAAiBC,EAAiCJ,EAAjCI,SAAiCC,EAAAL,EAAvBM,mBAAuB,IAAAD,EAAX,KAAWA,EAE7FE,EAAYC,KAAKC,KAAKN,EAAkBC,GACxCM,EAAQ,GACHC,EAAI,EAAGA,GAAKJ,EAAWI,IAC5BD,EAAME,KAAKD,GAGf,IAAIE,EAAeL,KAAKC,KAAKF,EAAYD,GARwDQ,EASzDC,mBAAS,GATgDC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAS5FK,EAT4FH,EAAA,GAS7EI,EAT6EJ,EAAA,GAU7FK,GAAyBF,EAAgB,GAAKb,EAAc,EAC5DgB,EAAyBH,EAAgBb,EAE7C,OAAOiB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAM/B,YAExBuB,EAAgB,GAAKI,EAAAC,EAAAC,cAAA,UAAQC,UAAWC,IAAM7B,cAAe8B,QAAS,WAAOR,EAAiBD,EAAgB,KAAzF,QACrBT,EACImB,OAAQ,SAAAC,GAAC,OAAIA,GAAKT,GAA0BS,GAAKR,IACjDS,IAAK,SAACD,GACH,OAAOP,EAAAC,EAAAC,cAAA,QAAMC,UAAWM,IAAGf,OAAAgB,EAAA,EAAAhB,CAAA,GAAEU,IAAM9B,iBAAmBI,IAAgB6B,IAAKI,IAAKJ,EAAGF,QAAS,kBAAM1B,EAAiB4B,KAAKA,KAE/HjB,EAAeM,GAAiBI,EAAAC,EAAAC,cAAA,UAAQC,UAAWC,IAAM7B,cAAe8B,QAAU,WAAOR,EAAiBD,EAAgB,KAA1F,mCCM1BgB,EA3BF,SAAAnC,GAA0D,IAAxDoC,EAAwDpC,EAAxDoC,KAAMC,EAAkDrC,EAAlDqC,2BAA4BC,EAAsBtC,EAAtBsC,SAAUC,EAAYvC,EAAZuC,OAEjDC,EAAoB,SAACC,EAAUC,GAClC,OAAOnB,EAAAC,EAAAC,cAAA,UAAQC,UAAWC,IAAMhC,WAAYgD,SAAUN,EAA2BO,KAAK,SAAAC,GAAO,OAAIA,GAAWT,EAAKU,KAAKlB,QAAS,WAC1Ha,EAASL,EAAKU,MACdJ,IAEZ,OACInB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAMlC,UAClB8B,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAMjC,UAClB6B,EAAAC,EAAAC,cAACsB,EAAA,EAAD,CAASC,GAAI,YAAcZ,EAAKU,IAC5BvB,EAAAC,EAAAC,cAAA,OAAKwB,IAA2B,OAAtBb,EAAKc,OAAOC,MAAiBf,EAAKc,OAAOC,MAAQC,IAAUC,IAAI,MAE7E9B,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,WAAMW,EAAKkB,MACX/B,EAAAC,EAAAC,cAAA,WAAMW,EAAKmB,UAGnBhC,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAM6B,cACjBpB,EAAKK,SACAD,EAAkBF,EAAU,YAC5BE,EAAkBD,EAAQ,aCT7BkB,EAZD,SAAAzD,GAA0E,IAAxEC,EAAwED,EAAxEC,YAAaC,EAA2DF,EAA3DE,iBAAkBwD,EAAyC1D,EAAzC0D,gBAAiBtD,EAAwBJ,EAAxBI,SAAauD,EAAW1C,OAAA2C,EAAA,EAAA3C,CAAAjB,EAAA,iEAEhF,OAAOuB,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAMnC,gBACzB+B,EAAAC,EAAAC,cAACoC,EAAD,CAAW5D,YAAaA,EAAaC,iBAAkBA,EAAkBC,gBAAiBuD,EAAiBtD,SAAUA,IAEnHuD,EAAMG,MAAM/B,IAAK,SAAAgC,GAAC,OAAIxC,EAAAC,EAAAC,cAACuC,EAAD,CAAM5B,KAAM2B,EAAG7B,IAAK6B,EAAEjB,GACrCT,2BAA4BsB,EAAMtB,2BAClCC,SAAUqB,EAAMrB,SAChBC,OAAQoB,EAAMpB,8BCbtB0B,EAAW,SAACC,GACrB,OAAOA,EAAMC,UAAUL,OAGdM,EAAc,SAACF,GACxB,OAAOA,EAAMC,UAAU/D,UAGdiE,EAAqB,SAACH,GAC/B,OAAOA,EAAMC,UAAUT,iBAGdY,EAAiB,SAACJ,GAC3B,OAAOA,EAAMC,UAAUlE,aAGdsE,EAAgB,SAACL,GAC1B,OAAOA,EAAMC,UAAUK,YAGdC,EAAgC,SAACP,GAC1C,OAAOA,EAAMC,UAAU9B,4BCHrBqC,6MAKFxE,iBAAmB,SAACyE,GAChBC,EAAKjB,MAAMkB,WAAWF,EAAYC,EAAKjB,MAAMvD,8FAJ7C0E,KAAKnB,MAAMkB,WAAWC,KAAKnB,MAAM1D,YAAa6E,KAAKnB,MAAMvD,2CAQzD,OAAOmB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAuD,SAAA,KACNxD,EAAAC,EAAAC,cAACuD,EAAA,EAAD,CAAWR,WAAYM,KAAKnB,MAAMa,aAEnCjD,EAAAC,EAAAC,cAACwD,EAAD,CACIvB,gBAAiBoB,KAAKnB,MAAMD,gBAC5BtD,SAAU0E,KAAKnB,MAAMvD,SACrBH,YAAa6E,KAAKnB,MAAM1D,YACxBC,iBAAkB4E,KAAK5E,iBACvB4D,MAAOgB,KAAKnB,MAAMG,MAClBoB,gBAAiBJ,KAAKnB,MAAMuB,gBAC5BC,cAAeL,KAAKnB,MAAMwB,cAC1BC,uBAAwBN,KAAKnB,MAAMyB,uBACnC/C,2BAA4ByC,KAAKnB,MAAMtB,2BACvCE,OAAQuC,KAAKnB,MAAMpB,OACnBD,SAAUwC,KAAKnB,MAAMrB,mBAxBJ+C,IAAMC,WAwCpBC,sBAVO,SAACrB,GAAD,MAAY,CAC1BJ,MAAOG,EAASC,GAChB9D,SAAUgE,EAAYF,GACtBR,gBAAgBW,EAAmBH,GACnCjE,YAAYqE,EAAeJ,GAC3BM,WAAWD,EAAcL,GACzB7B,2BAA2BoC,EAA8BP,KAIzB,CACpCiB,kBAAgBD,oBAAiBE,2BAAwBP,eAAYtC,WAAQD,cADlEiD,CAEZb","file":"static/js/3.cb77b047.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersContainer\":\"Users_usersContainer__2ITbb\",\"userItom\":\"Users_userItom__3RkVY\",\"userInfo\":\"Users_userInfo__11rfR\",\"btnElement\":\"Users_btnElement__LfYH0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Paginator_pagination__3Szjw\",\"paginationActive\":\"Paginator_paginationActive__QhU7B\",\"buttonPortion\":\"Paginator_buttonPortion__2ZDA7\"};","import React, {useState} from \"react\"\r\nimport style from \"./Paginator.module.css\";\r\nimport cn from \"classnames\"\r\n\r\n\r\nconst Paginator = ({currentPage, changePageNumber, totalItomsCount, pageSize, portionSize=\"10\" }) => {\r\n\r\n    let pageCount = Math.ceil(totalItomsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pageCount; i++){\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pageCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return <div className={style.pagination}>\r\n\r\n        {portionNumber > 1 && <button className={style.buttonPortion} onClick={() => {setPortionNumber(portionNumber - 1)}}>PREV</button>}\r\n        {pages\r\n            .filter( p => p >= leftPortionPageNumber &&  p <= rightPortionPageNumber)\r\n            .map( (p) => {\r\n                return <span className={cn({[style.paginationActive]: currentPage === p})} key={p} onClick={() => changePageNumber(p)}>{p}</span>\r\n            })}\r\n        {portionCount > portionNumber && <button className={style.buttonPortion} onClick={ () => {setPortionNumber(portionNumber + 1)}}>NEXT</button>}\r\n        </div>\r\n}\r\n\r\nexport default Paginator;\r\n\r\n","import React from \"react\";\r\nimport style from \"./Users.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport notPhoto from \"../../assecs/images/user.png\";\r\n\r\nconst User = ({user, expectationFollowedUsersId, unFollow, follow}) => {\r\n\r\n    const createBtnFollowed = (followed, text) => {\r\n       return <button className={style.btnElement} disabled={expectationFollowedUsersId.some(usersId => usersId == user.id)} onClick={() => {\r\n            followed(user.id)\r\n        }}>{text}</button>}\r\n\r\nreturn(\r\n    <div className={style.userItom}>\r\n        <div className={style.userInfo}>\r\n            <NavLink to={`/profile/` + user.id}>\r\n                <img src={user.photos.small !== null ? user.photos.small : notPhoto} alt=\"\"/>\r\n            </NavLink>\r\n            <div>\r\n                <div>{user.name}</div>\r\n                <div>{user.status}</div>\r\n            </div>\r\n        </div>\r\n        <div className={style.followedItom}>\r\n            {user.followed\r\n                ? createBtnFollowed(unFollow, \"Unfollow\")\r\n                : createBtnFollowed(follow, \"Follow\")}\r\n        </div>\r\n\r\n    </div>\r\n)\r\n}\r\nexport default User","import React from \"react\";\r\nimport style from \"./Users.module.css\"\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nconst Users = ({currentPage, changePageNumber, totalUsersCount, pageSize, ...props}) => {\r\n\r\n        return <div className={style.usersContainer}>\r\n            <Paginator currentPage={currentPage} changePageNumber={changePageNumber} totalItomsCount={totalUsersCount} pageSize={pageSize}/>\r\n\r\n            { props.users.map( u => <User user={u} key={u.id}\r\n                     expectationFollowedUsersId={props.expectationFollowedUsersId}\r\n                     unFollow={props.unFollow}\r\n                     follow={props.follow}/> )\r\n              }</div>\r\n    }\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const gettoTalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getExpectationFollowedUsersId = (state) => {\r\n    return state.usersPage.expectationFollowedUsersId\r\n}\r\n\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport {\r\n    follow,\r\n    followSuccess, getUsersTK, setExpectationFollowed, unFollow,\r\n    unfollowSuccess\r\n} from \"../../redux/users-reducer\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {\r\n    getCurrentPage,\r\n    getExpectationFollowedUsersId,\r\n    getIsFetching,\r\n    getPageSize,\r\n    gettoTalUsersCount,\r\n    getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component{\r\n    componentDidMount() {\r\n        this.props.getUsersTK(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    changePageNumber = (pageNumber) => {\r\n        this.props.getUsersTK(pageNumber, this.props.pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n         <Preloader isFetching={this.props.isFetching}/>\r\n\r\n        <Users\r\n            totalUsersCount={this.props.totalUsersCount}\r\n            pageSize={this.props.pageSize}\r\n            currentPage={this.props.currentPage}\r\n            changePageNumber={this.changePageNumber}\r\n            users={this.props.users}\r\n            unfollowSuccess={this.props.unfollowSuccess}\r\n            followSuccess={this.props.followSuccess}\r\n            setExpectationFollowed={this.props.setExpectationFollowed}\r\n            expectationFollowedUsersId={this.props.expectationFollowedUsersId}\r\n            follow={this.props.follow}\r\n            unFollow={this.props.unFollow}\r\n        />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount:gettoTalUsersCount(state),\r\n        currentPage:getCurrentPage(state),\r\n        isFetching:getIsFetching(state),\r\n        expectationFollowedUsersId:getExpectationFollowedUsersId(state)\r\n\r\n})\r\n\r\nexport default connect(mapStateToProps, {\r\n    followSuccess,  unfollowSuccess, setExpectationFollowed, getUsersTK, follow, unFollow\r\n})(UsersContainer);\r\n\r\n"],"sourceRoot":""}